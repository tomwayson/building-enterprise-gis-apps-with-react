# Building an Application

## Scaffold the application

### Prerequisites

- node, npm, and yarn - already installed
- Git - already installed on mac, windows users can download https://git-scm.com/download/win

### Create React App
- open a terminal to the root folder where you keep your projects and enter:
```shell
npx create-react-app enterprise-arcgis-app
cd enterprise-arcgis-app
```

### Run the app
- in your terminal, enter
```shell
yarn start
```

- open a browser to http://localhost:3000/

### Add some markup and CSS
- open `src/index.css` and **replace** its contents with:

```css
/* bootstrap styles */
@import "https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css";

body {
  padding-top: 3.5rem;
}
```

- open `src/App.js` and **replace** its contents with:

```jsx
import React from 'react';

function App() {
  return (
    <>
      <nav className="navbar navbar-expand-md navbar-dark fixed-top bg-dark">
        <a className="navbar-brand" href="#">Enterprise ArcGIS App</a>
      </nav>
    </>
  );
}

export default App;
```

After saving those files your browser should show a bootstrap navigation bar instead of the React logo.

#### Notes:
- [npx](https://www.npmjs.com/package/npx)
- [components and props](https://reactjs.org/docs/components-and-props.html)
- JSX, [fragments](https://reactjs.org/docs/fragments.html)
- public files, compiled css & js

## Get application title from config

### Set document title

- open `public/index.html`
- **replace** `<title>React App</title>` with `<title>Enterprise ArcGIS App</title>`

### Create and use an application config

- create a new `src/config/app.js` file with the following contents:

```js
export const title = 'Enterprise ArcGIS App';
```

- in `src/App.js`:
  - **insert** this line at the end of the `import` statements at the top of the file:
  ```js
  import { title } from './config/app';
  ```
  - **replace** `Enterprise ArcGIS App` with `{ title }`

The title now appears in the browser tab as well as in the navigation bar.

#### Notes:
- use config for shared values that don't change during the lifetime of the app
- if we planned to internationalize your app, we would have used [a library like react-intl or react-i18next](https://smddzcy.com/posts/2019-05-17/internationalization-in-react)

## Get tests to pass

### Fix broken test

- stop app (`ctrl+C`)
- run the tests w/ `yarn test`
- observe the line that's causing the test to fail
- open `src/App.test.js` and **replace** the `test() {}` block w/:

```js
test('renders the app title', () => {
  const { getByText } = render(<App title="Title" />);
  const linkElement = getByText(/Title/i);
  expect(linkElement).toBeInTheDocument();
});
```

- verify that all tests pass

### Remove unused CRA files

- remove the files generated by CRA that we're not currently using:
  - `src/App.css`
  - `src/logo.svg`
- verify that tests still pass
- stop tests (`ctrl+C`)

#### Notes:
- [rendering tests](https://github.com/testing-library/react-testing-library)
- tests let us refactor (delete files) w/ confidence
